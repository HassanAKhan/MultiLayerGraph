
 //var mpnet = JSON.parse('{"nodes": [{"name": "L-1117 Luxembourg, 33, rue Albert Ier", "layer": 0}, {"name": "Luxembourg", "layer": 0}, {"name": "B32680", "layer": 1}, {"name": "M\u00e9morial, Recueil des Soci\u00e9t\u00e9s et Associations", "layer": 1}, {"name": "NIEUWEN IMMO S.A., Soci\u00e9t\u00e9 Anonyme", "layer": 1}], "layers": [{"name": "location"}, {"name": "organization"}], "links": [{"source": 0, "target": 1, "value": 1, "layer": 0}, {"source": 2, "target": 3, "value": 1, "layer": 1}, {"source": 2, "target": 4, "value": 1, "layer": 1}]}');
// var mpnet = JSON.parse('{"nodes": [{"name": "Monsieur Romain Michels, pr\u00e9dit", "layer": 0}, {"name": "Antoine Koener", "layer": 0}, {"name": "Monsieur Antoine Koener", "layer": 0}, {"name": "Receveur", "layer": 0}, {"name": "Monsieur Antoine Koerner", "layer": 0}, {"name": "Monsieur Jean-Marie Humbert", "layer": 0}, {"name": "G\u00e9rard Bintz", "layer": 0}, {"name": "Nous", "layer": 0}, {"name": "Monsieur Romain Michels", "layer": 0}, {"name": "A. Koener, G. Bintz, R. Michels, N. Muller", "layer": 0}, {"name": "M. Ries", "layer": 0}, {"name": "N. Muller", "layer": 0}, {"name": "Monsieur G\u00e9rard Bintz", "layer": 0}, {"name": "Ma\u00eetre Norbert Muller", "layer": 0}, {"name": "TOITURE UNIVERSELLE, S.\u00e0 r.l., Soci\u00e9t\u00e9 \u00e0 responsabilit\u00e9 limit\u00e9e", "layer": 1}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations, num\u00e9ro 352", "layer": 1}, {"name": "TOITURE UNIVERSELLE, S", "layer": 1}, {"name": "M\u00e9morial, Recueil des Soci\u00e9t\u00e9s et Associations", "layer": 1}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations", "layer": 1}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations, num\u00e9ro 31", "layer": 1}, {"name": "L-4435 Soleuvre, 14B, rue de la Croix", "layer": 2}, {"name": "Grand-Duch", "layer": 2}, {"name": "Esch-sur-Alzette", "layer": 2}, {"name": "L-9651 Eschweiler, 16 rue du Village", "layer": 2}, {"name": "L-4490 Belvaux", "layer": 2}, {"name": "L-9651 Eschweiler, 16, rue du Village", "layer": 2}, {"name": "L-4991 Sanem, 150, rue de Niederkorn", "layer": 2}, {"name": "F-57160 Moulin-les-Metz, 1, rue Faber, non", "layer": 2}, {"name": "Eschweiler", "layer": 2}], "layers": [{"name": "person"}, {"name": "organization"}, {"name": "location"}], "links": [{"source": 0, "target": 13, "value": 1, "layer": 0}, {"source": 0, "target": 2, "value": 1, "layer": 0}, {"source": 0, "target": 12, "value": 1, "layer": 0}, {"source": 0, "target": 5, "value": 1, "layer": 0}, {"source": 0, "target": 4, "value": 1, "layer": 0}, {"source": 0, "target": 6, "value": 1, "layer": 0}, {"source": 0, "target": 1, "value": 1, "layer": 0}, {"source": 0, "target": 8, "value": 1, "layer": 0}, {"source": 0, "target": 7, "value": 1, "layer": 0}, {"source": 0, "target": 9, "value": 1, "layer": 0}, {"source": 0, "target": 3, "value": 1, "layer": 0}, {"source": 0, "target": 10, "value": 1, "layer": 0}, {"source": 0, "target": 11, "value": 1, "layer": 0}, {"source": 1, "target": 13, "value": 1, "layer": 0}, {"source": 1, "target": 2, "value": 1, "layer": 0}, {"source": 1, "target": 12, "value": 1, "layer": 0}, {"source": 1, "target": 5, "value": 1, "layer": 0}, {"source": 1, "target": 4, "value": 1, "layer": 0}, {"source": 1, "target": 6, "value": 1, "layer": 0}, {"source": 1, "target": 8, "value": 1, "layer": 0}, {"source": 1, "target": 7, "value": 1, "layer": 0}, {"source": 1, "target": 9, "value": 1, "layer": 0}, {"source": 1, "target": 3, "value": 1, "layer": 0}, {"source": 1, "target": 10, "value": 1, "layer": 0}, {"source": 1, "target": 11, "value": 1, "layer": 0}, {"source": 2, "target": 13, "value": 1, "layer": 0}, {"source": 2, "target": 12, "value": 1, "layer": 0}, {"source": 2, "target": 5, "value": 1, "layer": 0}, {"source": 2, "target": 4, "value": 1, "layer": 0}, {"source": 2, "target": 6, "value": 1, "layer": 0}, {"source": 2, "target": 8, "value": 1, "layer": 0}, {"source": 2, "target": 7, "value": 1, "layer": 0}, {"source": 2, "target": 9, "value": 1, "layer": 0}, {"source": 2, "target": 3, "value": 1, "layer": 0}, {"source": 2, "target": 10, "value": 1, "layer": 0}, {"source": 2, "target": 11, "value": 1, "layer": 0}, {"source": 3, "target": 13, "value": 1, "layer": 0}, {"source": 3, "target": 12, "value": 1, "layer": 0}, {"source": 3, "target": 5, "value": 1, "layer": 0}, {"source": 3, "target": 4, "value": 1, "layer": 0}, {"source": 3, "target": 6, "value": 1, "layer": 0}, {"source": 3, "target": 8, "value": 1, "layer": 0}, {"source": 3, "target": 7, "value": 1, "layer": 0}, {"source": 3, "target": 9, "value": 1, "layer": 0}, {"source": 3, "target": 10, "value": 1, "layer": 0}, {"source": 3, "target": 11, "value": 1, "layer": 0}, {"source": 4, "target": 13, "value": 1, "layer": 0}, {"source": 4, "target": 12, "value": 1, "layer": 0}, {"source": 4, "target": 5, "value": 1, "layer": 0}, {"source": 4, "target": 6, "value": 1, "layer": 0}, {"source": 4, "target": 8, "value": 1, "layer": 0}, {"source": 4, "target": 7, "value": 1, "layer": 0}, {"source": 4, "target": 9, "value": 1, "layer": 0}, {"source": 4, "target": 10, "value": 1, "layer": 0}, {"source": 4, "target": 11, "value": 1, "layer": 0}, {"source": 5, "target": 13, "value": 1, "layer": 0}, {"source": 5, "target": 12, "value": 1, "layer": 0}, {"source": 5, "target": 6, "value": 1, "layer": 0}, {"source": 5, "target": 8, "value": 1, "layer": 0}, {"source": 5, "target": 7, "value": 1, "layer": 0}, {"source": 5, "target": 9, "value": 1, "layer": 0}, {"source": 5, "target": 10, "value": 1, "layer": 0}, {"source": 5, "target": 11, "value": 1, "layer": 0}, {"source": 6, "target": 13, "value": 1, "layer": 0}, {"source": 6, "target": 12, "value": 1, "layer": 0}, {"source": 6, "target": 8, "value": 1, "layer": 0}, {"source": 6, "target": 7, "value": 1, "layer": 0}, {"source": 6, "target": 9, "value": 1, "layer": 0}, {"source": 6, "target": 10, "value": 1, "layer": 0}, {"source": 6, "target": 11, "value": 1, "layer": 0}, {"source": 7, "target": 13, "value": 1, "layer": 0}, {"source": 7, "target": 12, "value": 1, "layer": 0}, {"source": 7, "target": 8, "value": 1, "layer": 0}, {"source": 7, "target": 9, "value": 1, "layer": 0}, {"source": 7, "target": 10, "value": 1, "layer": 0}, {"source": 7, "target": 11, "value": 1, "layer": 0}, {"source": 8, "target": 13, "value": 1, "layer": 0}, {"source": 8, "target": 12, "value": 1, "layer": 0}, {"source": 8, "target": 9, "value": 1, "layer": 0}, {"source": 8, "target": 10, "value": 1, "layer": 0}, {"source": 8, "target": 11, "value": 1, "layer": 0}, {"source": 9, "target": 13, "value": 1, "layer": 0}, {"source": 9, "target": 12, "value": 1, "layer": 0}, {"source": 9, "target": 10, "value": 1, "layer": 0}, {"source": 9, "target": 11, "value": 1, "layer": 0}, {"source": 10, "target": 13, "value": 1, "layer": 0}, {"source": 10, "target": 12, "value": 1, "layer": 0}, {"source": 10, "target": 11, "value": 1, "layer": 0}, {"source": 11, "target": 13, "value": 1, "layer": 0}, {"source": 11, "target": 12, "value": 1, "layer": 0}, {"source": 12, "target": 13, "value": 1, "layer": 0}, {"source": 14, "target": 16, "value": 1, "layer": 1}, {"source": 14, "target": 19, "value": 1, "layer": 1}, {"source": 14, "target": 15, "value": 1, "layer": 1}, {"source": 14, "target": 18, "value": 1, "layer": 1}, {"source": 14, "target": 17, "value": 1, "layer": 1}, {"source": 15, "target": 16, "value": 1, "layer": 1}, {"source": 15, "target": 19, "value": 1, "layer": 1}, {"source": 15, "target": 18, "value": 1, "layer": 1}, {"source": 15, "target": 17, "value": 1, "layer": 1}, {"source": 16, "target": 19, "value": 1, "layer": 1}, {"source": 16, "target": 18, "value": 1, "layer": 1}, {"source": 16, "target": 17, "value": 1, "layer": 1}, {"source": 17, "target": 19, "value": 1, "layer": 1}, {"source": 17, "target": 18, "value": 1, "layer": 1}, {"source": 18, "target": 19, "value": 1, "layer": 1}, {"source": 20, "target": 22, "value": 1, "layer": 2}, {"source": 20, "target": 26, "value": 1, "layer": 2}, {"source": 20, "target": 24, "value": 1, "layer": 2}, {"source": 20, "target": 27, "value": 1, "layer": 2}, {"source": 20, "target": 25, "value": 1, "layer": 2}, {"source": 20, "target": 23, "value": 1, "layer": 2}, {"source": 20, "target": 28, "value": 1, "layer": 2}, {"source": 20, "target": 21, "value": 1, "layer": 2}, {"source": 21, "target": 22, "value": 1, "layer": 2}, {"source": 21, "target": 26, "value": 1, "layer": 2}, {"source": 21, "target": 24, "value": 1, "layer": 2}, {"source": 21, "target": 27, "value": 1, "layer": 2}, {"source": 21, "target": 25, "value": 1, "layer": 2}, {"source": 21, "target": 23, "value": 1, "layer": 2}, {"source": 21, "target": 28, "value": 1, "layer": 2}, {"source": 22, "target": 26, "value": 1, "layer": 2}, {"source": 22, "target": 24, "value": 1, "layer": 2}, {"source": 22, "target": 27, "value": 1, "layer": 2}, {"source": 22, "target": 25, "value": 1, "layer": 2}, {"source": 22, "target": 23, "value": 1, "layer": 2}, {"source": 22, "target": 28, "value": 1, "layer": 2}, {"source": 23, "target": 26, "value": 1, "layer": 2}, {"source": 23, "target": 24, "value": 1, "layer": 2}, {"source": 23, "target": 27, "value": 1, "layer": 2}, {"source": 23, "target": 25, "value": 1, "layer": 2}, {"source": 23, "target": 28, "value": 1, "layer": 2}, {"source": 24, "target": 26, "value": 1, "layer": 2}, {"source": 24, "target": 27, "value": 1, "layer": 2}, {"source": 24, "target": 25, "value": 1, "layer": 2}, {"source": 24, "target": 28, "value": 1, "layer": 2}, {"source": 25, "target": 26, "value": 1, "layer": 2}, {"source": 25, "target": 27, "value": 1, "layer": 2}, {"source": 25, "target": 28, "value": 1, "layer": 2}, {"source": 26, "target": 27, "value": 1, "layer": 2}, {"source": 26, "target": 28, "value": 1, "layer": 2}, {"source": 27, "target": 28, "value": 1, "layer": 2}]}');
//  var mpnet = JSON.parse('{"nodes": [{"name": "Monsieur Antoine Koener", "layer": 0}, {"name": "M. Ries", "layer": 0}, {"name": "G\u00e9rard Bintz", "layer": 0}, {"name": "Monsieur Tomio Kezuka", "layer": 0}, {"name": "Monsieur Romain Michels", "layer": 0}, {"name": "N. Muller", "layer": 0}, {"name": "Monsieur Jean-Marie Humbert", "layer": 0}, {"name": "Monsieur Kamezo Nakai", "layer": 0}, {"name": "Receveur", "layer": 0}, {"name": "Monsieur G\u00e9rard Bintz", "layer": 0}, {"name": "Monsieur Romain Michels, pr\u00e9dit", "layer": 0}, {"name": "Monsieur Antoine Koerner", "layer": 0}, {"name": "J. Muller", "layer": 0}, {"name": "Ma\u00eetre Norbert Muller", "layer": 0}, {"name": "Messieurs Barr Rosenberg, Edward Lyman, Tomio Kezuka, Robert Menster", "layer": 0}, {"name": "Yasuaki Fukui", "layer": 0}, {"name": "Monsieur Toyohiko Watanabe", "layer": 0}, {"name": "Antoine Koener", "layer": 0}, {"name": "Marcel Weicker", "layer": 0}, {"name": "Nous", "layer": 0}, {"name": "A. Koener, G. Bintz, R. Michels, N. Muller", "layer": 0}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations", "layer": 1}, {"name": "TOITURE UNIVERSELLE, S", "layer": 1}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations, num\u00e9ro 352", "layer": 1}, {"name": "GENERALE", "layer": 1}, {"name": "SPE S.A., SOCIETE DE PARTICIPATIONS ETRANGERES S.A., Soci\u00e9t\u00e9 Anonyme", "layer": 1}, {"name": "M\u00e9morial C, Recueil des Soci\u00e9t\u00e9s et Associations, num\u00e9ro 31", "layer": 1}, {"name": "NOMURA ROSENBERG ALPHA FUND, SICAV, Soci\u00e9t\u00e9 d\u2019Investissement \u00e0 Capital Variable", "layer": 1}, {"name": "M\u00e9morial, Recueil des Soci\u00e9t\u00e9s et Associations", "layer": 1}, {"name": "B24301", "layer": 1}, {"name": "Actionnaires", "layer": 1}, {"name": "TOITURE UNIVERSELLE, S.\u00e0 r.l., Soci\u00e9t\u00e9 \u00e0 responsabilit\u00e9 limit\u00e9e", "layer": 1}, {"name": "B26607", "layer": 1}, {"name": "NOMURA ROSENBERG ALPHA FUND, SICAV BANQUE INTERNATIONALE", "layer": 1}, {"name": "L-4991 Sanem, 150, rue de Niederkorn", "layer": 2}, {"name": "Grand-Duch", "layer": 2}, {"name": "L-4435 Soleuvre, 14B, rue de la Croix", "layer": 2}, {"name": "Esch-sur-Alzette", "layer": 2}, {"name": "F-57160 Moulin-les-Metz, 1, rue Faber, non", "layer": 2}, {"name": "Luxembourg", "layer": 2}, {"name": "L-9651 Eschweiler, 16 rue du Village", "layer": 2}, {"name": "Eschweiler", "layer": 2}, {"name": "L-9651 Eschweiler, 16, rue du Village", "layer": 2}, {"name": "L-2953 Luxembourg, 2, boulevard Royal", "layer": 2}, {"name": "L-4490 Belvaux", "layer": 2}], "layers": [{"name": "person"}, {"name": "organization"}, {"name": "location"}], "links": [{"source": 0, "target": 13, "value": 1, "layer": 0}, {"source": 0, "target": 9, "value": 1, "layer": 0}, {"source": 0, "target": 6, "value": 1, "layer": 0}, {"source": 0, "target": 11, "value": 1, "layer": 0}, {"source": 0, "target": 2, "value": 1, "layer": 0}, {"source": 0, "target": 17, "value": 1, "layer": 0}, {"source": 0, "target": 4, "value": 1, "layer": 0}, {"source": 0, "target": 10, "value": 1, "layer": 0}, {"source": 0, "target": 19, "value": 1, "layer": 0}, {"source": 0, "target": 20, "value": 1, "layer": 0}, {"source": 0, "target": 8, "value": 1, "layer": 0}, {"source": 0, "target": 1, "value": 1, "layer": 0}, {"source": 0, "target": 5, "value": 1, "layer": 0}, {"source": 1, "target": 13, "value": 1, "layer": 0}, {"source": 1, "target": 9, "value": 1, "layer": 0}, {"source": 1, "target": 6, "value": 1, "layer": 0}, {"source": 1, "target": 11, "value": 1, "layer": 0}, {"source": 1, "target": 2, "value": 1, "layer": 0}, {"source": 1, "target": 17, "value": 1, "layer": 0}, {"source": 1, "target": 4, "value": 1, "layer": 0}, {"source": 1, "target": 10, "value": 1, "layer": 0}, {"source": 1, "target": 19, "value": 1, "layer": 0}, {"source": 1, "target": 20, "value": 1, "layer": 0}, {"source": 1, "target": 8, "value": 1, "layer": 0}, {"source": 1, "target": 5, "value": 1, "layer": 0}, {"source": 2, "target": 13, "value": 1, "layer": 0}, {"source": 2, "target": 9, "value": 1, "layer": 0}, {"source": 2, "target": 6, "value": 1, "layer": 0}, {"source": 2, "target": 11, "value": 1, "layer": 0}, {"source": 2, "target": 17, "value": 1, "layer": 0}, {"source": 2, "target": 4, "value": 1, "layer": 0}, {"source": 2, "target": 10, "value": 1, "layer": 0}, {"source": 2, "target": 19, "value": 1, "layer": 0}, {"source": 2, "target": 20, "value": 1, "layer": 0}, {"source": 2, "target": 8, "value": 1, "layer": 0}, {"source": 2, "target": 5, "value": 1, "layer": 0}, {"source": 3, "target": 7, "value": 1, "layer": 0}, {"source": 3, "target": 14, "value": 1, "layer": 0}, {"source": 3, "target": 18, "value": 1, "layer": 0}, {"source": 3, "target": 15, "value": 1, "layer": 0}, {"source": 3, "target": 16, "value": 1, "layer": 0}, {"source": 3, "target": 8, "value": 1, "layer": 0}, {"source": 3, "target": 12, "value": 1, "layer": 0}, {"source": 4, "target": 13, "value": 1, "layer": 0}, {"source": 4, "target": 9, "value": 1, "layer": 0}, {"source": 4, "target": 6, "value": 1, "layer": 0}, {"source": 4, "target": 11, "value": 1, "layer": 0}, {"source": 4, "target": 17, "value": 1, "layer": 0}, {"source": 4, "target": 10, "value": 1, "layer": 0}, {"source": 4, "target": 19, "value": 1, "layer": 0}, {"source": 4, "target": 20, "value": 1, "layer": 0}, {"source": 4, "target": 8, "value": 1, "layer": 0}, {"source": 4, "target": 5, "value": 1, "layer": 0}, {"source": 5, "target": 13, "value": 1, "layer": 0}, {"source": 5, "target": 9, "value": 1, "layer": 0}, {"source": 5, "target": 6, "value": 1, "layer": 0}, {"source": 5, "target": 11, "value": 1, "layer": 0}, {"source": 5, "target": 17, "value": 1, "layer": 0}, {"source": 5, "target": 10, "value": 1, "layer": 0}, {"source": 5, "target": 19, "value": 1, "layer": 0}, {"source": 5, "target": 20, "value": 1, "layer": 0}, {"source": 5, "target": 8, "value": 1, "layer": 0}, {"source": 6, "target": 13, "value": 1, "layer": 0}, {"source": 6, "target": 9, "value": 1, "layer": 0}, {"source": 6, "target": 11, "value": 1, "layer": 0}, {"source": 6, "target": 17, "value": 1, "layer": 0}, {"source": 6, "target": 10, "value": 1, "layer": 0}, {"source": 6, "target": 19, "value": 1, "layer": 0}, {"source": 6, "target": 20, "value": 1, "layer": 0}, {"source": 6, "target": 8, "value": 1, "layer": 0}, {"source": 7, "target": 14, "value": 1, "layer": 0}, {"source": 7, "target": 18, "value": 1, "layer": 0}, {"source": 7, "target": 15, "value": 1, "layer": 0}, {"source": 7, "target": 16, "value": 1, "layer": 0}, {"source": 7, "target": 8, "value": 1, "layer": 0}, {"source": 7, "target": 12, "value": 1, "layer": 0}, {"source": 8, "target": 13, "value": 1, "layer": 0}, {"source": 8, "target": 9, "value": 1, "layer": 0}, {"source": 8, "target": 11, "value": 1, "layer": 0}, {"source": 8, "target": 17, "value": 1, "layer": 0}, {"source": 8, "target": 10, "value": 1, "layer": 0}, {"source": 8, "target": 19, "value": 1, "layer": 0}, {"source": 8, "target": 20, "value": 1, "layer": 0}, {"source": 8, "target": 14, "value": 1, "layer": 0}, {"source": 8, "target": 18, "value": 1, "layer": 0}, {"source": 8, "target": 15, "value": 1, "layer": 0}, {"source": 8, "target": 16, "value": 1, "layer": 0}, {"source": 8, "target": 12, "value": 1, "layer": 0}, {"source": 9, "target": 13, "value": 1, "layer": 0}, {"source": 9, "target": 11, "value": 1, "layer": 0}, {"source": 9, "target": 17, "value": 1, "layer": 0}, {"source": 9, "target": 10, "value": 1, "layer": 0}, {"source": 9, "target": 19, "value": 1, "layer": 0}, {"source": 9, "target": 20, "value": 1, "layer": 0}, {"source": 10, "target": 13, "value": 1, "layer": 0}, {"source": 10, "target": 11, "value": 1, "layer": 0}, {"source": 10, "target": 17, "value": 1, "layer": 0}, {"source": 10, "target": 19, "value": 1, "layer": 0}, {"source": 10, "target": 20, "value": 1, "layer": 0}, {"source": 11, "target": 13, "value": 1, "layer": 0}, {"source": 11, "target": 17, "value": 1, "layer": 0}, {"source": 11, "target": 19, "value": 1, "layer": 0}, {"source": 11, "target": 20, "value": 1, "layer": 0}, {"source": 12, "target": 14, "value": 1, "layer": 0}, {"source": 12, "target": 18, "value": 1, "layer": 0}, {"source": 12, "target": 15, "value": 1, "layer": 0}, {"source": 12, "target": 16, "value": 1, "layer": 0}, {"source": 13, "target": 17, "value": 1, "layer": 0}, {"source": 13, "target": 19, "value": 1, "layer": 0}, {"source": 13, "target": 20, "value": 1, "layer": 0}, {"source": 14, "target": 18, "value": 1, "layer": 0}, {"source": 14, "target": 15, "value": 1, "layer": 0}, {"source": 14, "target": 16, "value": 1, "layer": 0}, {"source": 15, "target": 18, "value": 1, "layer": 0}, {"source": 15, "target": 16, "value": 1, "layer": 0}, {"source": 16, "target": 18, "value": 1, "layer": 0}, {"source": 17, "target": 19, "value": 1, "layer": 0}, {"source": 17, "target": 20, "value": 1, "layer": 0}, {"source": 19, "target": 20, "value": 1, "layer": 0}, {"source": 21, "target": 22, "value": 1, "layer": 1}, {"source": 21, "target": 26, "value": 1, "layer": 1}, {"source": 21, "target": 23, "value": 1, "layer": 1}, {"source": 21, "target": 28, "value": 1, "layer": 1}, {"source": 21, "target": 31, "value": 1, "layer": 1}, {"source": 22, "target": 26, "value": 1, "layer": 1}, {"source": 22, "target": 23, "value": 1, "layer": 1}, {"source": 22, "target": 28, "value": 1, "layer": 1}, {"source": 22, "target": 31, "value": 1, "layer": 1}, {"source": 23, "target": 26, "value": 1, "layer": 1}, {"source": 23, "target": 28, "value": 1, "layer": 1}, {"source": 23, "target": 31, "value": 1, "layer": 1}, {"source": 24, "target": 30, "value": 1, "layer": 1}, {"source": 24, "target": 25, "value": 1, "layer": 1}, {"source": 24, "target": 29, "value": 1, "layer": 1}, {"source": 25, "target": 30, "value": 1, "layer": 1}, {"source": 25, "target": 29, "value": 1, "layer": 1}, {"source": 26, "target": 28, "value": 1, "layer": 1}, {"source": 26, "target": 31, "value": 1, "layer": 1}, {"source": 27, "target": 33, "value": 1, "layer": 1}, {"source": 27, "target": 32, "value": 1, "layer": 1}, {"source": 28, "target": 31, "value": 1, "layer": 1}, {"source": 29, "target": 30, "value": 1, "layer": 1}, {"source": 32, "target": 33, "value": 1, "layer": 1}, {"source": 34, "target": 37, "value": 1, "layer": 2}, {"source": 34, "target": 44, "value": 1, "layer": 2}, {"source": 34, "target": 38, "value": 1, "layer": 2}, {"source": 34, "target": 42, "value": 1, "layer": 2}, {"source": 34, "target": 36, "value": 1, "layer": 2}, {"source": 34, "target": 40, "value": 1, "layer": 2}, {"source": 34, "target": 41, "value": 1, "layer": 2}, {"source": 34, "target": 35, "value": 1, "layer": 2}, {"source": 35, "target": 37, "value": 1, "layer": 2}, {"source": 35, "target": 44, "value": 1, "layer": 2}, {"source": 35, "target": 38, "value": 1, "layer": 2}, {"source": 35, "target": 42, "value": 1, "layer": 2}, {"source": 35, "target": 36, "value": 1, "layer": 2}, {"source": 35, "target": 40, "value": 1, "layer": 2}, {"source": 35, "target": 41, "value": 1, "layer": 2}, {"source": 36, "target": 37, "value": 1, "layer": 2}, {"source": 36, "target": 44, "value": 1, "layer": 2}, {"source": 36, "target": 38, "value": 1, "layer": 2}, {"source": 36, "target": 42, "value": 1, "layer": 2}, {"source": 36, "target": 40, "value": 1, "layer": 2}, {"source": 36, "target": 41, "value": 1, "layer": 2}, {"source": 37, "target": 44, "value": 1, "layer": 2}, {"source": 37, "target": 38, "value": 1, "layer": 2}, {"source": 37, "target": 42, "value": 1, "layer": 2}, {"source": 37, "target": 40, "value": 1, "layer": 2}, {"source": 37, "target": 41, "value": 1, "layer": 2}, {"source": 38, "target": 44, "value": 1, "layer": 2}, {"source": 38, "target": 42, "value": 1, "layer": 2}, {"source": 38, "target": 40, "value": 1, "layer": 2}, {"source": 38, "target": 41, "value": 1, "layer": 2}, {"source": 39, "target": 43, "value": 1, "layer": 2}, {"source": 40, "target": 44, "value": 1, "layer": 2}, {"source": 40, "target": 42, "value": 1, "layer": 2}, {"source": 40, "target": 41, "value": 1, "layer": 2}, {"source": 41, "target": 44, "value": 1, "layer": 2}, {"source": 41, "target": 42, "value": 1, "layer": 2}, {"source": 42, "target": 44, "value": 1, "layer": 2}]}');
var mpnet = JSON.parse('{"nodes": [{"name": "SPE S.A., SOCIETE DE PARTICIPATIONS ETRANGERES S.A., Soci\u00e9t\u00e9 Anonyme", "layer": 0}, {"name": "B24301", "layer": 0}, {"name": "GENERALE", "layer": 0}, {"name": "Actionnaires", "layer": 0}, {"name": "L-1219 Luxembourg, 23, rue Beaumont", "layer": 1}], "layers": [{"name": "organization"}, {"name": "location"}], "links": [{"source": 3, "target": 2, "value": 1, "layer": 0, "layer_to": 0}, {"source": 3, "target": 0, "value": 1, "layer": 0, "layer_to": 0}, {"source": 3, "target": 1, "value": 1, "layer": 0, "layer_to": 0}, {"source": 3, "target": 4, "value": 1, "layer": 0, "layer_to": 1}, {"source": 2, "target": 0, "value": 1, "layer": 0, "layer_to": 0}, {"source": 2, "target": 1, "value": 1, "layer": 0, "layer_to": 0}, {"source": 2, "target": 4, "value": 1, "layer": 0, "layer_to": 1}, {"source": 0, "target": 1, "value": 1, "layer": 0, "layer_to": 0}, {"source": 0, "target": 4, "value": 1, "layer": 0, "layer_to": 1}, {"source": 1, "target": 4, "value": 1, "layer": 0, "layer_to": 1}]}')

var color = d3.scale.category20();
var svg_layer=[];
var node_layer=[];
var link_layer=[];
var layer_label=[];
var intra_svg = []
var intra_link = [];

// Calculate size for the figure
var width = Math.sqrt(mpnet.nodes.length)*150;//500;
var height = 4/6*width;
var fontsize=Math.max(width*0.05,16)

var force = d3.layout.force()
                     .charge(-30)
                     .linkDistance(100)
                     .size([width, height])
                     .nodes(mpnet.nodes)
                     .links(mpnet.links)
                     .start();


    var nlayers=mpnet.layers.length;
    for (var layer=nlayers-1;layer>=0;layer--){
        svg_layer[layer] = d3.select("body").append("svg")
                           .attr("layer",0)
                           .style("position","absolute")
                           .style("left","100px")
                           .style("top",(width/6+layer*width/4).toString()+"px")
                           .style("background-color","rgba(100,100,100,0.3)")
                           .style("transform","rotate3D(-0.9,0.4,0.4,70deg)") // Firefox
                           .style("-webkit-transform","rotate3D(-0.9,0.4,0.4,70deg)") // Safari, Chrome
                           .attr("width", width)
                           .attr("height", height);
                           


        
        layer_label[layer]=svg_layer[layer].selectAll(".layerlabel")
            .data([mpnet.layers[layer]])
            .enter()
            .append("text")
            .text((d) => d.name)
            .attr("dx",function(d){return width-0.8*d.name.toString().length*fontsize;})
            .attr("dy",fontsize)
            .style("font-size",fontsize+"px")
            .style("fontcolor","black")

        link_layer[layer] = svg_layer[layer].selectAll(".link")
            .data(mpnet.links)
            .enter()
            .append("line")
            .filter(function(d){
                
                if (d.layer == layer && d.layer === d.layer_to){
                    return d.layer===layer}
                })
                
            .style("stroke-width", function(d) { return 2*Math.sqrt(d.value); })
            .style("stroke","#999");

        node_layer[layer] = svg_layer[layer].selectAll(".node")
            .data(mpnet.nodes)
            .enter()
            .append("circle")
            .filter(function(d){return d.layer===layer})
            .attr("class", "node")
            .attr("r", 5)
            .style("fill", function(d) {return color(d.index); })
            .style("stroke","#fff")
            .style("stroke-width","1.5px")
            .call(force.drag);

            node_layer[layer].append("title")
                .text(function(d) { return d.name; });

        
    }
    
    var nlinks = mpnet.links.length;
    var count = 0;

    

    // for (var elm=nlinks-1;elm>=0;elm--){
    //     if (!(mpnet.links[elm].layer === mpnet.links[elm].layer_to)){

    //         // intra_svg[elm] = d3.select("body")
    //         //                 .append("svg")
    //         console.log(mpnet.links[elm])
            
    //         intra_svg[count]= d3.select("body")
    //                             .style("position","absolute")
    //                             .append('svg')
    //                             .append('circle')
    //                             .style('fill', 'red')
    //                             .attr("cx", mpnet.links[elm].source.x)
    //                             .attr("cy", mpnet.links[elm].source.y)
    //                             .attr("r", 20);



    //         // intra_link[count] = intra_svg[count].selectAll('.link')
    //         // .data(mpnet.links[elm])
    //         // .enter()
    //         // .append("line")
    //         // .style("stroke", "gray") 
    //         // .attr("x1", function(d) { return d.source.x; })
    //         // .attr("y1", function(d) { return d.source.y; })
    //         // .attr("x2", function(d) { return d.target.x; })
    //         // .attr("y2", function(d) { return d.target.y; });
    //         count++;

    //     }
    // }




       


force.on("tick", function() {

 for (var layer=0;layer<nlayers;layer++){
  link_layer[layer].attr("x1", function(d) { return d.source.x; })
                   .attr("y1", function(d) { return d.source.y; })
                   .attr("x2", function(d) { return d.target.x; })
                   .attr("y2", function(d) { return d.target.y; });


  node_layer[layer].attr("cx", function(d) { return d.x; })
                   .attr("cy", function(d) { return d.y; });
    


 }
});
